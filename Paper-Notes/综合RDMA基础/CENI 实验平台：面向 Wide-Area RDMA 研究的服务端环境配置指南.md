è¿™ä»½æ‰‹å†Œæ—¨åœ¨å¸®åŠ©åˆå­¦è€…ï¼ˆå°¤å…¶æ˜¯ç ”ç©¶ **Wide-Area RDMA** ç­‰é«˜æ€§èƒ½ç½‘ç»œæ–¹å‘çš„åŒå­¦ï¼‰ä»Žé›¶å¼€å§‹ï¼Œå¿«é€Ÿåœ¨ CENIï¼ˆæœªæ¥ç½‘ç»œè¯•éªŒè®¾æ–½ï¼‰å¹³å°ä¸Šæ­å»ºèµ·é«˜æ•ˆçš„ç§‘ç ”çŽ¯å¢ƒã€‚
## ðŸ›°ï¸ ç¬¬ä¸€é˜¶æ®µï¼šå»ºç«‹è¿œç¨‹è¿žæŽ¥ (SSH & FRP)

CENI æœåŠ¡å™¨é€šå¸¸éƒ¨ç½²åœ¨å†…ç½‘ï¼Œéœ€è¦é€šè¿‡ç‰¹å®šçš„è·³æ¿æœºæˆ– FRP è½¬å‘è¿›è¡Œè®¿é—®ã€‚

### 1. é…ç½®æœ¬åœ° SSH `config` 

ç”¨VS Code ç¼–è¾‘`config` çš„æ–‡ä»¶ï¼ˆæ— åŽç¼€åï¼‰ï¼Œå¡«å…¥ä»¥ä¸‹æ¨¡æ¿ï¼š

ä»£ç æ®µ

```
Host CENI_Server_Name
    HostName 202.38.68.71  # æ›¿æ¢ä¸ºå®žé™…å…¬ç½‘ IP
    User ustc              # åˆå§‹ç”¨æˆ·é€šå¸¸ä¸º ustc æˆ– root
    Port 12345             # æ›¿æ¢ä¸ºåˆ†é…ç»™ä½ çš„è½¬å‘ç«¯å£
```

### 2. è§£å†³ `root` ç™»å½•æƒé™ (é‡è¦)

å¦‚æžœéœ€è¦ `root` æƒé™ä½† SSH æç¤ºè¢«æ‹’ï¼Œè¯·å…ˆç”¨ `ustc` ç™»å½•ï¼Œåœ¨ç½‘é¡µæŽ§åˆ¶å°æ‰§è¡Œï¼š

- **ä¿®æ”¹é…ç½®**ï¼š`sudo sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config`ã€‚
    
- **é‡å¯æœåŠ¡**ï¼š`sudo service ssh restart`ã€‚
    

### 3.ä¸ºä»€ä¹ˆ SSH è¿žæŽ¥æç¤º "Permission denied" æˆ–å¯†ç é”™è¯¯ï¼Ÿ**

- **åŽŸå›  1**ï¼šUbuntu 18.04 é»˜è®¤ç¦æ­¢ `root` ç”¨æˆ·é€šè¿‡å¯†ç è¿œç¨‹ç™»å½•ã€‚
    
- **åŽŸå›  2**ï¼šç”¨æˆ·åè¾“å…¥é”™è¯¯ï¼ˆç”¨äº† `ustc` ç™»å½•ä½†å¯†ç æ˜¯ `root` çš„ï¼Œæˆ–è€…åä¹‹ï¼‰ã€‚
    
- **è§£å†³æ–¹æ¡ˆ**ï¼š
    
    1. åœ¨ç½‘é¡µæŽ§åˆ¶å°æ‰§è¡Œï¼š`sudo sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config`ã€‚
        
    2. ç¡®ä¿ `PasswordAuthentication yes` å·²å¼€å¯ã€‚
        
    3. é‡å¯æœåŠ¡ï¼š`sudo service ssh restart`ã€‚

---

## ðŸ’¾ ç¬¬äºŒé˜¶æ®µï¼šç£ç›˜ç©ºé—´æ‹“å®¹ (150GB+ æŒ‚è½½)

CENI çš„ N1 å®žä¾‹é»˜è®¤ç³»ç»Ÿç›˜ä»… **20GB**ï¼Œç»å¤§éƒ¨åˆ†ç©ºé—´éšè—åœ¨æœªæŒ‚è½½çš„åˆ†åŒºä¸­ã€‚

### 1. æŒ‚è½½æ•°æ®ç›˜

åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå°†å¤§å®¹é‡åˆ†åŒºï¼ˆé€šå¸¸æ˜¯ `/dev/vda4`ï¼‰æŒ‚è½½åˆ°ä½ çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼š

Bash

```
# åˆ›å»ºæŒ‚è½½ç‚¹
mkdir -p ~/autodl-tmp
# æŒ‚è½½åˆ†åŒº
sudo mount /dev/vda4 ~/autodl-tmp
# ä¿®æ”¹æ‰€æœ‰æƒï¼Œç¡®ä¿ VS Code æ‹¥æœ‰è¯»å†™æƒ
sudo chown -R $USER:$USER ~/autodl-tmp
```

### 2. è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½

ä¸ºäº†é˜²æ­¢é‡å¯åŽæ•°æ®â€œæ¶ˆå¤±â€ï¼Œå¿…é¡»å†™å…¥ç³»ç»Ÿè¡¨ï¼š

Bash

```
sudo sh -c 'echo "/dev/vda4 /home/ustc/autodl-tmp ext4 defaults 0 0" >> /etc/fstab'
```

---

## ðŸ› ï¸ ç¬¬ä¸‰é˜¶æ®µï¼šç§‘ç ”è½¯ä»¶çŽ¯å¢ƒæ­å»º

### 1. ç¼–è¯‘å™¨å‡çº§ (GCC 9.4.0+)

é«˜æ€§èƒ½ç½‘ç»œåè®®é€šå¸¸éœ€è¦ **C++17** æ”¯æŒã€‚

- **æ£€æŸ¥ç‰ˆæœ¬**ï¼š`gcc --version`ã€‚

ä»ŽUbuntu18å‡çº§åˆ°20
do-release-upgrade
æ­£å¸¸æœåŠ¡å™¨ä¸éœ€è¦é¢‘ç¹é‡å¯çš„
æŽ‰äº†é‡æ–°æ‰“ä¸€ä¸‹é©±åŠ¨ æ˜¨å¤©æ•™ä½ çš„
- **å®‰è£…åŸºç¡€å¥—ä»¶**ï¼š`sudo apt update && sudo apt install -y build-essential cmake`ã€‚
    

### 2. RDMA å¼€å‘åº“å®‰è£…

è¿™æ˜¯è¿›è¡Œ **Wide-Area RDMA** å®žéªŒçš„åŸºç¡€ï¼š

Bash

```
sudo apt install -y libibverbs-dev librdmacm-dev rdma-core ibverbs-utils
```

### 3. Python çŽ¯å¢ƒä¿®å¤ (é’ˆå¯¹ Ubuntu 18.04)

å¦‚æžœç³»ç»Ÿè‡ªå¸¦ Python 3.6 æ— æ³•æ»¡è¶³ç»˜å›¾åº“è¦æ±‚ï¼Œè¯·å®‰è£… **Python 3.8**ï¼š

- **å®‰è£…**ï¼š`sudo add-apt-repository ppa:deadsnakes/ppa && sudo apt install python3.8`ã€‚
    
- **å®‰è£… pip**ï¼šæ‰‹åŠ¨ä¸Šä¼  `get-pip.py` å¹¶è¿è¡Œ `python3.8 get-pip.py --user`ã€‚
    

---

## ðŸ“‚ ç¬¬å››é˜¶æ®µï¼šä»£ç ä¸Žæ•°æ®åŒæ­¥

### 1. WinSCP æ–‡ä»¶æ¬è¿

ç”±äºŽ CENI æœåŠ¡å™¨è¿žæŽ¥ GitHub å¯èƒ½å­˜åœ¨è¶…æ—¶é£Žé™©ï¼Œå»ºè®®ä½¿ç”¨ **WinSCP** å·¥å…·ï¼š

- **å·¦ä¾§**ï¼šæœ¬åœ° Windows ç›®å½•ã€‚
    
- **å³ä¾§**ï¼šæœåŠ¡å™¨ç›®å½•ï¼ˆåŠ¡å¿…è¿›å…¥ `/home/ustc/autodl-tmp` é¿å…æ’‘çˆ†ç³»ç»Ÿç›˜ï¼‰ã€‚
    
- **æ“ä½œ**ï¼šç›´æŽ¥æ‹–æ‹½ ZIP åŒ…è‡³å³ä¾§ï¼Œå†åœ¨ç»ˆç«¯è§£åŽ‹ã€‚
    

### 2. Git é•œåƒå…‹éš†

å¦‚æžœå¿…é¡»åœ¨ç»ˆç«¯ä¸‹è½½ï¼ŒæŽ¨èä½¿ç”¨ `ghproxy` é•œåƒï¼š

Bash

```
git clone https://mirror.ghproxy.com/https://github.com/ç”¨æˆ·å/ä»“åº“å.git
```

---

## ðŸ“ æ ¸å¿ƒå‚æ•°é€ŸæŸ¥è¡¨

|**é¡¹ç›®**|**å…¸åž‹å€¼/è·¯å¾„**|**å¤‡æ³¨**|
|---|---|---|
|**ç³»ç»Ÿç‰ˆæœ¬**|Ubuntu 18.04.6 LTS|è§ `cat /etc/os-release`|
|**å¤§ç¡¬ç›˜è·¯å¾„**|`/home/ustc/autodl-tmp`|å¿…é¡»åœ¨è¿™é‡Œè·‘ä»¿çœŸ|
|**é»˜è®¤ç”¨æˆ·**|`ustc` / `root`|åˆå§‹å¯†ç å¸¸è§ä¸º `ustc1958`|
|**RDMA æ ¸å¿ƒåº“**|`libibverbs`|å®žéªŒä»£ç ç¼–è¯‘å¿…å¤‡|

---


**æœªæ¥ç½‘ç»œè¯•éªŒæœåŠ¡å¹³å°**ï¼ˆç”±ä¸­å›½ç§‘å¤§æ‰¿å»ºï¼‰æ—¨åœ¨ä¸ºä¸ªäººç”¨æˆ·æä¾›ä¸€ç«™å¼çš„ç½‘ç»œè¯•éªŒçŽ¯å¢ƒã€‚ç”¨æˆ·å¯åœ¨çº¿å¿«é€Ÿç”³è¯·ç½‘ç»œã€è®¡ç®—ä¸Žå­˜å‚¨èµ„æºï¼Œæž„å»ºçµæ´»çš„ä»¿çœŸçŽ¯å¢ƒã€‚
å¹³å°ä»¥â€œ**è¯•éªŒ**â€ä¸ºæ ¸å¿ƒå•å…ƒï¼Œé€šè¿‡æ‰¿è½½è™šæ‹Ÿæœºå’Œé“¾è·¯èµ„æºï¼Œè¾…åŠ©ç”¨æˆ·å®ŒæˆæŠ€æœ¯éªŒè¯ã€‚èµ„æºéšè¯•éªŒçš„åˆ›å»ºè€Œå¼€å¯ï¼Œéšè¯•éªŒçš„ç»“æŸè€Œå›žæ”¶ã€‚è¯•éªŒä¸­çš„â€œ**èŠ‚ç‚¹**â€å³è™šæ‹ŸæœåŠ¡å™¨ï¼Œæ¶µç›–äº†ä»Žé€šç”¨ CPU åˆ°é«˜æ€§èƒ½ GPU çš„å…¨å¥—é…ç½®ï¼Œç”¨æˆ·å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»è°ƒæ•´å‚æ•°ï¼Œä»¥èŽ·å–åŒ¹é…çš„è®¡ç®—ä¸Žå­˜å‚¨èƒ½åŠ›ã€‚
æœ€è¿‘è¿žceniæœåŠ¡å™¨ï¼Œé‡åˆ°äº†ä¸€äº›å›°éš¾ï¼Œéšæ‰‹å†™ä¸‹Q&Aæ–‡æ¡£ä¾›å¤§å®¶å‚è€ƒã€‚
![[Pasted image 20260211182051.png]]
å¯ä»¥é€‰ubuntu18-desktop
ä¸ç”¨172.16.0.0 è¿žä¸ä¸Šå¤–ç½‘ å¿…é¡»è®¾ç½®æˆ172.16.0.0
é‚£ä¸ª20.04ç–‘ä¼¼æ˜¯è¢«åˆ«äººæ”¹è¿‡çŽ¯å¢ƒçš„ ä¸“é—¨ç”¨æ¥åšbmv2å®žéªŒçš„

æ¯æ¬¡é‡å¯åŽï¼Œéƒ½è¦åœ¨ç½‘é¡µç‰ˆé‡æ–°ç™»é™†ï¼Œcd frp_0.42.0_linux_amd64 
./frpc -c ./frpc.ini

è¿™ä¸ªæ•™ç¨‹çš„å‰ææ˜¯centosç³»ç»Ÿï¼Œä½ ä»Žç¬¬2æ­¥å¼€å§‹

å®‰è£…sshæœåŠ¡ç«¯ï¼š
sudo apt-get update  
sudo apt install openssh-server -y

nohup ./frpc -c ./frpc.ini > frp_log.txt 2>&1 &

sudo apt-get update
sudo apt-get install dkms
sudo dkms install -m nvidia -v 535.98